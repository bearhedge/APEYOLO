Here’s a surgical Replit prompt you can paste in:

⸻

Prompt for Replit (ApeX Options UI revamp + scaffolds)
	•	Brand/Style
	•	Use Orbitron for all text (import via Google Fonts).
	•	Monochrome palette only: pure black #000, charcoal #0B0B0B, dark gray #1A1A1A, mid gray #2B2B2B, silver #A6A6A6, white #FFF.
	•	Remove the “Matrix Online” footer widget. Keep a tiny status dot + “ONLINE” text in the navbar instead.
	•	Rounded-2xl cards, subtle shadows, 1px hairline borders (border-white/10). No neon green.
	•	Nav & Pages
	•	Rename Positions → Dashboard.
	•	Pages: Sessions, Dashboard, PNL, Settings.
	•	Dashboard (was Positions)
	•	Layout: 3 columns (lg) → stack (sm).
	•	Cards:
	1.	Open Positions (table): symbol, side, qty, avg price, mark, unrealized P/L, IV, delta, theta, margin used, time opened.
	2.	Leverage & NAV: NAV, cash, margin available, current leverage (big number), sparkline of NAV last 30d.
	3.	Withdrawals: latest withdrawals (date, amount, status) + link to full history.
	4.	Historical Positions (compact table): status (closed/expired/exercised), realized P/L, holding period.
	•	Top right: “Execute Trade” button (opens modal with ticker, strategy, qty; just wire to stub).
	•	PNL (Track Record — Immutable)
	•	Read-only table (server-provided): tradeId, timestamp, symbol, strategy, side, qty, entry, exit, fees, realized P/L, run P/L, notes.
	•	Toolbar: date range, symbol filter, export CSV and JSON; show SHA-256 hash of current export (“Record hash: …”).
	•	No edit controls.
	•	Settings
	•	Sections (cards):
	1.	Broker Connection (IBKR OAuth2)
	•	Fields (read-only + actions): Client ID, Key ID, Account (masked); Status badges for OAuth 2.0, SSO, and Brokerage Session.
	•	Buttons: Request OAuth Token, Create SSO Session, Validate SSO, Init Brokerage Session, Tickle, Logout.
	•	Show last response code + traceId (if present).
	2.	Risk & Automation (95% automated)
	•	Aggression slider (Conservative ↔ Aggressive).
	•	Limits: Max leverage, Per-trade risk % of NAV, Daily loss limit ($ / %), Max open positions, Max notional exposure.
	•	Toggles: Auto-roll, Auto-hedge, Trade scheduling (market hours only), Circuit breaker (halts after limit breach).
	3.	Agent (OpenAI SDK)
	•	Model selector, API key input (masked), System prompt textarea, Strategy presets dropdown (Wheel / Covered Calls / Cash-Secured Puts).
	•	Safety rails: ban lists (symbols), min liquidity (ADV / OI), min option premium.
	4.	Notifications & Webhooks
	•	Email/Slack/Webhook URLs; toggles for fills, errors, risk breaches, daily summary.
	5.	General
	•	Base currency, timezone, number format; theme stays monochrome.
	•	Tech tasks
	•	Apply Orbitron globally (Tailwind base).
	•	Central types.ts:

export type Position = { id:string; symbol:string; side:'BUY'|'SELL'; qty:number; avg:number; mark:number; upl:number; iv:number; delta:number; theta:number; margin:number; openedAt:string; status?:'OPEN'|'CLOSED'|'EXPIRED'|'EXERCISED' };
export type PnlRow = { tradeId:string; ts:string; symbol:string; strategy:string; side:'BUY'|'SELL'; qty:number; entry:number; exit?:number; fees:number; realized:number; run:number; notes?:string };
export type BrokerStatus = { oauth:number|null; sso:number|null; init:number|null; traceId?:string };
export type RiskCfg = { aggression:number; maxLev:number; perTradeRiskPct:number; dailyLossPct:number; maxPositions:number; maxNotional:number; autoRoll:boolean; autoHedge:boolean; marketHoursOnly:boolean; circuitBreaker:boolean };


	•	Mock API stubs under /api to wire UI now:
	•	GET /api/dashboard → { nav, cash, lev, positions: Position[], history: Position[], withdrawals: […] }
	•	GET /api/pnl → PnlRow[]
	•	GET /api/broker/diag → BrokerStatus
	•	POST /api/broker/{oauth|sso|validate|init|tickle|logout} → { ok:true, code:number, traceId?:string }
	•	POST /api/trade/preview|place → { ok:true, id:string }
	•	Components to add: StatCard, MiniChart (sparkline), DataTable (sortable, filterable), SectionHeader.
	•	Keep consistent padding (p-6), gaps (gap-6), hairline borders, no greens.

	•	Done criteria
	•	All pages render with Orbitron + monochrome, no “Matrix Online”.
	•	Dashboard shows mock data + sparkline; PNL exports + displays record hash; Settings buttons hit mock endpoints and surface status/traceId.
	•	Code organized: pages/{Sessions,Dashboard,Pnl,Settings}.tsx, components/*, types.ts, lib/api.ts.

⸻
